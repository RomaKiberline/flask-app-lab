# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ6: ORM, SQLAlchemy —Ç–∞ CRUD —É Flask

## üìã –ó–º—ñ—Å—Ç
- [–ú–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏](#-–º–µ—Ç–∞-—Ä–æ–±–æ—Ç–∏)
- [–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª](#-—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª)
- [–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫](#-–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è-—Ç–∞-–∑–∞–ø—É—Å–∫)
- [–¢–µ—Å—Ç–æ–≤—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –∑–∞–ø–∏—Å–∏](#-—Ç–µ—Å—Ç–æ–≤—ñ-–æ–±–ª—ñ–∫–æ–≤—ñ-–∑–∞–ø–∏—Å–∏)

## üéØ –ú–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏
- –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Flask-–ø—Ä–æ—î–∫—Ç –∑ application factory —ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è–º–∏ (dev, testing, prod)
- –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ ORM SQLAlchemy 2.0 —ñ Flask-Migrate (Alembic)
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ CRUD –¥–ª—è –ø–æ—Å—Ç—ñ–≤ (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Å–ø–∏—Å–æ–∫, –¥–µ—Ç–∞–ª—ñ, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è, –≤–∏–¥–∞–ª–µ–Ω–Ω—è)
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ Flask-WTF, Jinja2, Bootstrap 5 —Ç–∞ –∫–∞—Å—Ç–æ–º–Ω–∏–π CSS
- –î–æ–¥–∞—Ç–∏ –º–æ–¥—É–ª—å–Ω—ñ —Ç–µ—Å—Ç–∏ –¥–ª—è CRUD-–æ–ø–µ—Ä–∞—Ü—ñ–π


## üé® –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª (Posts)
- –ë–ª—é–ø—Ä–∏–Ω—Ç `post` –∑ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏:
  - `GET /post` ‚Äî —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω–∏—Ö –ø–æ—Å—Ç—ñ–≤ –∑–∞ –¥–∞—Ç–æ—é (—Å–ø–∞–¥–∞–Ω–Ω—è)
  - `GET|POST /post/create` ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç–∞ (–∞–≤—Ç–æ—Ä ‚Äî –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —ñ–∑ —Å–µ—Å—ñ—ó –∞–±–æ Anonymous)
  - `GET /post/<id>` ‚Äî –ø–µ—Ä–µ–≥–ª—è–¥ –ø–æ—Å—Ç–∞
  - `GET|POST /post/<id>/update` ‚Äî —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø–æ—Å—Ç–∞
  - `GET|POST /post/<id>/delete` ‚Äî –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —ñ –≤–∏–¥–∞–ª–µ–Ω–Ω—è
- Flash-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è CRUD-–¥—ñ–π
- –®–∞–±–ª–æ–Ω–∏: `all_posts.html`, `detail_post.html`, `add_post.html`, `delete_confirm.html`
- –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è: Bootstrap 5 + `posts.css`, –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è `default.jpg`

## üöÄ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:
```bash
git clone <https://github.com/RomaKiberline/flask-app-lab.git>
cd flask_app_chupyrchuk
```

2. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–∞ –∞–∫—Ç–∏–≤—É–π—Ç–µ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ, –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
```bash
python3 -m venv venv
./venv/bin/pip install -r requirements.txt
```

3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —É `.env` (–ø—Ä–∏–∫–ª–∞–¥):
```env
FLASK_APP=run.py
FLASK_ENV=development
SECRET_KEY=change-me-in-prod
DATABASE_URL=sqlite:///instance/data.sqlite
```

4. –ú—ñ–≥—Ä–∞—Ü—ñ—ó –ë–î (Flask-Migrate):
```bash
./venv/bin/flask db init
./venv/bin/flask db migrate -m "Initial migration"
./venv/bin/flask db upgrade
```

5. –ó–∞–ø—É—Å–∫ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É:
```bash
./venv/bin/python run.py
```

6. –í—ñ–¥–∫—Ä–∏—Ç–∏ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ:
```
http://localhost:5000
```

7. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤:
```bash
./venv/bin/python -m unittest -v tests.test_posts
```

## üîê –¢–µ—Å—Ç–æ–≤—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –∑–∞–ø–∏—Å–∏

| Username | Password |
|----------|----------|
| admin | admin123 |
| user | password |
| roman | roman123 |

## üì∏ –°–∫—Ä—ñ–Ω—à–æ—Ç–∏

### –ß–∞—Å—Ç–∏–Ω–∞ 2 - Flask Shell –∫–æ–º–∞–Ω–¥–∏
![–î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–æ—Å—Ç—ñ–≤](./screens/posts.png)
![–í–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ—Å—Ç–∞](./screens/posts_delete.png)
![–°–∫–∏–¥–∞–Ω–Ω—è –±–¥](./screens/drop_db.png)


### –ß–∞—Å—Ç–∏–Ω–∞ 3 - –ú—ñ–≥—Ä–∞—Ü—ñ—ó
![–ú—ñ–≥—Ä–∞—Ü—ñ—ó](./screens/migration.png)

### –ß–∞—Å—Ç–∏–Ω–∞ 6 - –†—É—á–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

#### –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç—ñ–≤ –∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏
![–°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –ø–æ—Å—Ç—ñ–≤](./screens/post.png)
![–°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω–∏—Ö –ø–æ—Å—Ç—ñ–≤](./screens/active_post.png)
![–°–ø–∏—Å–æ–∫ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∏—Ö –ø–æ—Å—Ç—ñ–≤](./screens/inactive_post.png)

#### –ü–µ—Ä–µ–≥–ª—è–¥ –ø–æ—Å—Ç–∞
![–ü–µ—Ä–µ–≥–ª—è–¥ –ø–æ—Å—Ç–∞](./screens/post_view.png)

#### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞
![–î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–æ—Å—Ç–∞](./screens/creating_post.png)
![–î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–æ—Å—Ç–∞](./screens/created_post.png)

#### –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø–æ—Å—Ç–∞
![–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø–æ—Å—Ç–∞](./screens/edit_post.png)
![–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø–æ—Å—Ç–∞](./screens/post_updated.png)

#### –í–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ—Å—Ç–∞
![–í–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ—Å—Ç–∞](./screens/delete_post.png)
![–í–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ—Å—Ç–∞](./screens/post_deleted.png)

### –ú–æ–¥—É–ª—å–Ω—ñ —Ç–µ—Å—Ç–∏
![–¢–µ—Å—Ç–∏](./screens/test.png)

**–ê–≤—Ç–æ—Ä**: Roman Chupyrchuk  
**–î–∞—Ç–∞**: 28.11.2025  
**–ì—ñ–ª–∫–∞**: lab6
