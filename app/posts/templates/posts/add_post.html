{% extends 'base.html' %}
{% from 'includes/macros.html' import render_field %}
{% block title %}{{ 'Edit Post' if is_edit else 'Add Post' }}{% endblock %}
{% block content %}
<h1 class="mb-3">{{ 'Edit Post' if is_edit else 'Add Post' }}</h1>
<form method="post">
  {{ form.hidden_tag() }}
  <div class="mb-3">{{ render_field(form.title) }}</div>
  <div class="mb-3">{{ render_field(form.content) }}</div>
  <div class="row g-3">
    <div class="col-md-4">{{ render_field(form.category) }}</div>
    <div class="col-md-4">{{ render_field(form.publish_date) }}</div>
    <div class="col-md-4 d-flex align-items-center">
      <div class="form-check form-switch">
        {{ form.enabled(class_='form-check-input', id='enabledSwitch') }}
        <label class="form-check-label ms-2" for="enabledSwitch">{{ form.enabled.label.text }}</label>
      </div>
    </div>
  </div>
  <div class="mt-3">
    {{ form.submit(class_='btn btn-primary') }}
    <a class="btn btn-secondary" href="{{ url_for('post.list_posts') }}">Cancel</a>
  </div>
</form>
{% endblock %}
